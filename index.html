<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>snovakow</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<style>
		a {
			font-size: 48px;
			display: block;
		}

		body {
			color: black;
			background-color: white;
		}
	</style>
	<script type="module">
		const appInitialize = (title, version, css) => {
			document.title = title;

			if (css) {
				const link = document.createElement('link');
				link.rel = "stylesheet";
				link.href = css + "?" + version;
				document.head.appendChild(link);
			}
		}

		const addLink = (title, link) => {
			const a = document.createElement('a');
			a.href = link;
			a.appendChild(document.createTextNode(title));
			document.body.appendChild(a);
		};

		addLink("Sudoku", "/sudoku/");
		addLink("Three", "/three/");
		addLink("About", "/about/");
	</script>
</head>

<body>
	<pre>
- Floor/Wall
- 2D Canvas Media: Stream, Save
- 3D Viewer

Filled: 9*9*8 = 648
bytes: 81
base64: 108

Compression
Filled: 8*21 = 168  (26%)
bytes: 21
base64: 28

Holes: 72
bytes: 9
base64: 12

Both: (37%)
bytes: 30
base64: 40

Performance
sudoku modulo operator
sudoku integer division

/* floor Math.floor(x/3)

b1 1xxx | x1&1x
b2 (xx0x | xxx1) & x1^1x

1000 10
0111 10
0110 10

0101 01
0100 01
0011 01

0010 00
0001 00
0000 00
*/

const floor = (x) => {
	const x2 = x >> 1;
	const x3 = x >> 2;
	const b1 = (x >> 3) | (x2 & x3);
	const b2 = (~x2 | x) & (x2 ^ x3);
	return (b1 << 1) | b2;
}

/* mod x%3

b1 1xxx | ((x2 ^ x1) & (x2 ^ x3))
b2 x111 | (~x2 & (x1 ^ x3))

1000 10
0101 10
0010 10

0111 01
0100 01
0001 01

0110 00
0011 00
0000 00
*/

const mod = (x) => {
	const x1 = x & 0x1;
	const x2 = (x >> 1) & 0x1;
	const x3 = x >> 2;

	const b1 = (x >> 3) | ((x1 ^ x2) & (x2 ^ x3));
	const b2 = ~x2 & (x1 ^ x3);
	return (b1 << 1) | (b2 | (x1 & x2 & x3));
}		
	</pre>
</body>

</html>